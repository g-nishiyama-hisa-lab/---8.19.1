<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ãƒ›ãƒ¼ãƒ ã‚¹ãƒ†ã‚¤å…ˆè¨ºæ–­ - 5ã¤ã®è³ªå•ã§æœ€é©ãªå›½ã¨å®¶åº­ã‚’è¦‹ã¤ã‘ã‚ˆã†</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Noto+Sans+JP:wght@300;400;500;600;700&display=swap');
        body {
            font-family: 'Noto Sans JP', sans-serif;
        }
        .question-card {
            transform: translateX(100%);
            opacity: 0;
            transition: all 0.5s ease-in-out;
        }
        .question-card.active {
            transform: translateX(0);
            opacity: 1;
        }
        .question-card.prev {
            transform: translateX(-100%);
            opacity: 0;
        }
    </style>
</head>
<body class="bg-gradient-to-br from-purple-50 via-blue-50 to-indigo-100 min-h-screen">
    <div class="container mx-auto px-4 py-8 max-w-4xl">
        <!-- ãƒ˜ãƒƒãƒ€ãƒ¼ -->
        <div class="text-center mb-8">
            <h1 class="text-4xl font-bold text-gray-800 mb-4">ğŸŒ ãƒ›ãƒ¼ãƒ ã‚¹ãƒ†ã‚¤å…ˆè¨ºæ–­</h1>
            <p class="text-lg text-gray-600">ãŸã£ãŸ5ã¤ã®è³ªå•ã§ã€ã‚ãªãŸã«ã´ã£ãŸã‚Šã®å›½ã¨å®¶åº­ã‚¿ã‚¤ãƒ—ã‚’è¦‹ã¤ã‘ã¾ã™</p>
        </div>

        <!-- ãƒ—ãƒ­ã‚°ãƒ¬ã‚¹ãƒãƒ¼ -->
        <div class="bg-white rounded-2xl shadow-lg p-6 mb-8">
            <div class="flex items-center justify-between mb-4">
                <span class="text-sm font-medium text-gray-600">é€²æ—</span>
                <span class="text-sm font-medium text-gray-600"><span id="currentQuestion">1</span> / 5</span>
            </div>
            <div class="w-full bg-gray-200 rounded-full h-3">
                <div id="progressBar" class="bg-gradient-to-r from-purple-500 to-blue-500 h-3 rounded-full transition-all duration-500" style="width: 20%"></div>
            </div>
        </div>

        <!-- è³ªå•ã‚«ãƒ¼ãƒ‰ -->
        <div class="relative overflow-hidden">
            <!-- è³ªå•1: å­¦ç¿’ç›®çš„ -->
            <div class="question-card active bg-white rounded-2xl shadow-xl p-8" data-question="1">
                <div class="text-center mb-8">
                    <div class="text-6xl mb-4">ğŸ“š</div>
                    <h2 class="text-2xl font-bold text-gray-800 mb-4">è³ªå• 1</h2>
                    <p class="text-xl text-gray-700">ãƒ›ãƒ¼ãƒ ã‚¹ãƒ†ã‚¤ã®ä¸»ãªç›®çš„ã¯ä½•ã§ã™ã‹ï¼Ÿ</p>
                </div>
                <div class="space-y-4">
                    <button class="option-btn w-full p-4 text-left border-2 border-gray-200 rounded-xl hover:border-purple-400 hover:bg-purple-50 transition-all" data-value="language-intensive">
                        <div class="flex items-center">
                            <span class="text-2xl mr-4">ğŸ¯</span>
                            <div>
                                <div class="font-semibold text-gray-800">é›†ä¸­çš„ãªèªå­¦å­¦ç¿’</div>
                                <div class="text-sm text-gray-600">çŸ­æœŸé–“ã§èªå­¦åŠ›ã‚’å¤§å¹…ã«å‘ä¸Šã•ã›ãŸã„</div>
                            </div>
                        </div>
                    </button>
                    <button class="option-btn w-full p-4 text-left border-2 border-gray-200 rounded-xl hover:border-purple-400 hover:bg-purple-50 transition-all" data-value="cultural-exchange">
                        <div class="flex items-center">
                            <span class="text-2xl mr-4">ğŸŒ</span>
                            <div>
                                <div class="font-semibold text-gray-800">æ–‡åŒ–äº¤æµãƒ»å›½éš›ä½“é¨“</div>
                                <div class="text-sm text-gray-600">ç•°æ–‡åŒ–ã‚’æ·±ãç†è§£ã—ã€å›½éš›æ„Ÿè¦šã‚’èº«ã«ã¤ã‘ãŸã„</div>
                            </div>
                        </div>
                    </button>
                    <button class="option-btn w-full p-4 text-left border-2 border-gray-200 rounded-xl hover:border-purple-400 hover:bg-purple-50 transition-all" data-value="academic-preparation">
                        <div class="flex items-center">
                            <span class="text-2xl mr-4">ğŸ“</span>
                            <div>
                                <div class="font-semibold text-gray-800">é€²å­¦ãƒ»ç•™å­¦æº–å‚™</div>
                                <div class="text-sm text-gray-600">æµ·å¤–ã®å¤§å­¦é€²å­¦ã‚„é•·æœŸç•™å­¦ã®æº–å‚™ã‚’ã—ãŸã„</div>
                            </div>
                        </div>
                    </button>
                    <button class="option-btn w-full p-4 text-left border-2 border-gray-200 rounded-xl hover:border-purple-400 hover:bg-purple-50 transition-all" data-value="career-development">
                        <div class="flex items-center">
                            <span class="text-2xl mr-4">ğŸ’¼</span>
                            <div>
                                <div class="font-semibold text-gray-800">ã‚­ãƒ£ãƒªã‚¢ãƒ»ãƒ“ã‚¸ãƒã‚¹ã‚¹ã‚­ãƒ«å‘ä¸Š</div>
                                <div class="text-sm text-gray-600">ä»•äº‹ã§ä½¿ãˆã‚‹å®Ÿè·µçš„ãªã‚¹ã‚­ãƒ«ã‚’èº«ã«ã¤ã‘ãŸã„</div>
                            </div>
                        </div>
                    </button>
                </div>
            </div>

            <!-- è³ªå•2: ç’°å¢ƒã®å¥½ã¿ -->
            <div class="question-card bg-white rounded-2xl shadow-xl p-8" data-question="2">
                <div class="text-center mb-8">
                    <div class="text-6xl mb-4">ğŸ™ï¸</div>
                    <h2 class="text-2xl font-bold text-gray-800 mb-4">è³ªå• 2</h2>
                    <p class="text-xl text-gray-700">ã©ã‚“ãªç’°å¢ƒã§éã”ã—ãŸã„ã§ã™ã‹ï¼Ÿ</p>
                </div>
                <div class="space-y-4">
                    <button class="option-btn w-full p-4 text-left border-2 border-gray-200 rounded-xl hover:border-blue-400 hover:bg-blue-50 transition-all" data-value="big-city">
                        <div class="flex items-center">
                            <span class="text-2xl mr-4">ğŸŒ†</span>
                            <div>
                                <div class="font-semibold text-gray-800">å¤§éƒ½å¸‚ãƒ»å›½éš›éƒ½å¸‚</div>
                                <div class="text-sm text-gray-600">åˆºæ¿€çš„ã§å¤šæ§˜æ€§ã«å¯Œã‚“ã ç’°å¢ƒ</div>
                            </div>
                        </div>
                    </button>
                    <button class="option-btn w-full p-4 text-left border-2 border-gray-200 rounded-xl hover:border-blue-400 hover:bg-blue-50 transition-all" data-value="medium-city">
                        <div class="flex items-center">
                            <span class="text-2xl mr-4">ğŸ˜ï¸</span>
                            <div>
                                <div class="font-semibold text-gray-800">ä¸­è¦æ¨¡éƒ½å¸‚</div>
                                <div class="text-sm text-gray-600">ç¨‹ã‚ˆãä¾¿åˆ©ã§è½ã¡ç€ã„ãŸç’°å¢ƒ</div>
                            </div>
                        </div>
                    </button>
                    <button class="option-btn w-full p-4 text-left border-2 border-gray-200 rounded-xl hover:border-blue-400 hover:bg-blue-50 transition-all" data-value="small-town">
                        <div class="flex items-center">
                            <span class="text-2xl mr-4">ğŸŒ³</span>
                            <div>
                                <div class="font-semibold text-gray-800">å°ã•ãªç”ºãƒ»ç”°èˆ</div>
                                <div class="text-sm text-gray-600">è‡ªç„¶è±Šã‹ã§åœ°åŸŸå¯†ç€å‹ã®ç’°å¢ƒ</div>
                            </div>
                        </div>
                    </button>
                    <button class="option-btn w-full p-4 text-left border-2 border-gray-200 rounded-xl hover:border-blue-400 hover:bg-blue-50 transition-all" data-value="coastal">
                        <div class="flex items-center">
                            <span class="text-2xl mr-4">ğŸ–ï¸</span>
                            <div>
                                <div class="font-semibold text-gray-800">æµ·è¾ºãƒ»ãƒªã‚¾ãƒ¼ãƒˆåœ°</div>
                                <div class="text-sm text-gray-600">ãƒªãƒ©ãƒƒã‚¯ã‚¹ã§ãã‚‹æµ·æ²¿ã„ã®ç’°å¢ƒ</div>
                            </div>
                        </div>
                    </button>
                </div>
            </div>

            <!-- è³ªå•3: äº¤æµã‚¹ã‚¿ã‚¤ãƒ« -->
            <div class="question-card bg-white rounded-2xl shadow-xl p-8" data-question="3">
                <div class="text-center mb-8">
                    <div class="text-6xl mb-4">ğŸ‘¨â€ğŸ‘©â€ğŸ‘§â€ğŸ‘¦</div>
                    <h2 class="text-2xl font-bold text-gray-800 mb-4">è³ªå• 3</h2>
                    <p class="text-xl text-gray-700">ãƒ›ã‚¹ãƒˆãƒ•ã‚¡ãƒŸãƒªãƒ¼ã¨ã©ã®ã‚ˆã†ã«éã”ã—ãŸã„ã§ã™ã‹ï¼Ÿ</p>
                </div>
                <div class="space-y-4">
                    <button class="option-btn w-full p-4 text-left border-2 border-gray-200 rounded-xl hover:border-green-400 hover:bg-green-50 transition-all" data-value="very-active">
                        <div class="flex items-center">
                            <span class="text-2xl mr-4">ğŸ‰</span>
                            <div>
                                <div class="font-semibold text-gray-800">ç©æ¥µçš„ã«å®¶æ—æ´»å‹•ã«å‚åŠ </div>
                                <div class="text-sm text-gray-600">é£Ÿäº‹ã€å¤–å‡ºã€ã‚¤ãƒ™ãƒ³ãƒˆãªã©å®¶æ—ã¨ä¸€ç·’ã«éã”ã™</div>
                            </div>
                        </div>
                    </button>
                    <button class="option-btn w-full p-4 text-left border-2 border-gray-200 rounded-xl hover:border-green-400 hover:bg-green-50 transition-all" data-value="balanced">
                        <div class="flex items-center">
                            <span class="text-2xl mr-4">âš–ï¸</span>
                            <div>
                                <div class="font-semibold text-gray-800">ãƒãƒ©ãƒ³ã‚¹ã®å–ã‚ŒãŸäº¤æµ</div>
                                <div class="text-sm text-gray-600">é©åº¦ãªäº¤æµã¨å€‹äººæ™‚é–“ã®ä¸¡æ–¹ã‚’å¤§åˆ‡ã«ã™ã‚‹</div>
                            </div>
                        </div>
                    </button>
                    <button class="option-btn w-full p-4 text-left border-2 border-gray-200 rounded-xl hover:border-green-400 hover:bg-green-50 transition-all" data-value="independent">
                        <div class="flex items-center">
                            <span class="text-2xl mr-4">ğŸš¶</span>
                            <div>
                                <div class="font-semibold text-gray-800">ç‹¬ç«‹æ€§ã‚’é‡è¦–</div>
                                <div class="text-sm text-gray-600">å¿…è¦ãªæ™‚ã«ã‚µãƒãƒ¼ãƒˆã‚’å—ã‘ã¤ã¤ã€è‡ªç”±ã«è¡Œå‹•ã—ãŸã„</div>
                            </div>
                        </div>
                    </button>
                    <button class="option-btn w-full p-4 text-left border-2 border-gray-200 rounded-xl hover:border-green-400 hover:bg-green-50 transition-all" data-value="learning-focused">
                        <div class="flex items-center">
                            <span class="text-2xl mr-4">ğŸ“–</span>
                            <div>
                                <div class="font-semibold text-gray-800">å­¦ç¿’ã‚µãƒãƒ¼ãƒˆé‡è¦–</div>
                                <div class="text-sm text-gray-600">èªå­¦ã‚„å‹‰å¼·ã®ã‚µãƒãƒ¼ãƒˆã‚’ç©æ¥µçš„ã«å—ã‘ãŸã„</div>
                            </div>
                        </div>
                    </button>
                </div>
            </div>

            <!-- è³ªå•4: æœŸé–“ã¨äºˆç®— -->
            <div class="question-card bg-white rounded-2xl shadow-xl p-8" data-question="4">
                <div class="text-center mb-8">
                    <div class="text-6xl mb-4">ğŸ“…</div>
                    <h2 class="text-2xl font-bold text-gray-800 mb-4">è³ªå• 4</h2>
                    <p class="text-xl text-gray-700">æ»åœ¨æœŸé–“ã¨äºˆç®—ã¯ã©ã®ç¨‹åº¦ã§ã™ã‹ï¼Ÿ</p>
                </div>
                <div class="space-y-4">
                    <button class="option-btn w-full p-4 text-left border-2 border-gray-200 rounded-xl hover:border-orange-400 hover:bg-orange-50 transition-all" data-value="short-budget">
                        <div class="flex items-center">
                            <span class="text-2xl mr-4">âš¡</span>
                            <div>
                                <div class="font-semibold text-gray-800">çŸ­æœŸãƒ»äºˆç®—é‡è¦–ï¼ˆ1-4é€±é–“ï¼‰</div>
                                <div class="text-sm text-gray-600">ã‚³ã‚¹ãƒˆã‚’æŠ‘ãˆã¦åŠ¹ç‡çš„ã«ä½“é¨“ã—ãŸã„</div>
                            </div>
                        </div>
                    </button>
                    <button class="option-btn w-full p-4 text-left border-2 border-gray-200 rounded-xl hover:border-orange-400 hover:bg-orange-50 transition-all" data-value="medium-standard">
                        <div class="flex items-center">
                            <span class="text-2xl mr-4">ğŸ“Š</span>
                            <div>
                                <div class="font-semibold text-gray-800">ä¸­æœŸãƒ»æ¨™æº–çš„ï¼ˆ1-3ãƒ¶æœˆï¼‰</div>
                                <div class="text-sm text-gray-600">ã—ã£ã‹ã‚Šã¨å­¦ç¿’æˆæœã‚’å¾—ãŸã„</div>
                            </div>
                        </div>
                    </button>
                    <button class="option-btn w-full p-4 text-left border-2 border-gray-200 rounded-xl hover:border-orange-400 hover:bg-orange-50 transition-all" data-value="long-premium">
                        <div class="flex items-center">
                            <span class="text-2xl mr-4">ğŸ’</span>
                            <div>
                                <div class="font-semibold text-gray-800">é•·æœŸãƒ»ãƒ—ãƒ¬ãƒŸã‚¢ãƒ ï¼ˆ3ãƒ¶æœˆä»¥ä¸Šï¼‰</div>
                                <div class="text-sm text-gray-600">è³ªã®é«˜ã„ç’°å¢ƒã§æ·±ãå­¦ã³ãŸã„</div>
                            </div>
                        </div>
                    </button>
                    <button class="option-btn w-full p-4 text-left border-2 border-gray-200 rounded-xl hover:border-orange-400 hover:bg-orange-50 transition-all" data-value="flexible">
                        <div class="flex items-center">
                            <span class="text-2xl mr-4">ğŸ”„</span>
                            <div>
                                <div class="font-semibold text-gray-800">æŸ”è»Ÿã«å¯¾å¿œ</div>
                                <div class="text-sm text-gray-600">æœŸé–“ã‚„äºˆç®—ã¯ç›¸è«‡ã—ã¦æ±ºã‚ãŸã„</div>
                            </div>
                        </div>
                    </button>
                </div>
            </div>

            <!-- è³ªå•5: é‡è¦–ã™ã‚‹ãƒã‚¤ãƒ³ãƒˆ -->
            <div class="question-card bg-white rounded-2xl shadow-xl p-8" data-question="5">
                <div class="text-center mb-8">
                    <div class="text-6xl mb-4">â­</div>
                    <h2 class="text-2xl font-bold text-gray-800 mb-4">è³ªå• 5</h2>
                    <p class="text-xl text-gray-700">æœ€ã‚‚é‡è¦–ã™ã‚‹ãƒã‚¤ãƒ³ãƒˆã¯ä½•ã§ã™ã‹ï¼Ÿ</p>
                </div>
                <div class="space-y-4">
                    <button class="option-btn w-full p-4 text-left border-2 border-gray-200 rounded-xl hover:border-red-400 hover:bg-red-50 transition-all" data-value="safety-comfort">
                        <div class="flex items-center">
                            <span class="text-2xl mr-4">ğŸ›¡ï¸</span>
                            <div>
                                <div class="font-semibold text-gray-800">å®‰å…¨æ€§ãƒ»å¿«é©æ€§</div>
                                <div class="text-sm text-gray-600">æ²»å®‰ãŒè‰¯ãã€å®‰å¿ƒã—ã¦éã”ã›ã‚‹ç’°å¢ƒ</div>
                            </div>
                        </div>
                    </button>
                    <button class="option-btn w-full p-4 text-left border-2 border-gray-200 rounded-xl hover:border-red-400 hover:bg-red-50 transition-all" data-value="language-immersion">
                        <div class="flex items-center">
                            <span class="text-2xl mr-4">ğŸ—£ï¸</span>
                            <div>
                                <div class="font-semibold text-gray-800">èªå­¦ç¿’å¾—åŠ¹æœ</div>
                                <div class="text-sm text-gray-600">ãƒã‚¤ãƒ†ã‚£ãƒ–ç’°å¢ƒã§ç¢ºå®Ÿã«èªå­¦åŠ›ã‚’å‘ä¸Šã•ã›ãŸã„</div>
                            </div>
                        </div>
                    </button>
                    <button class="option-btn w-full p-4 text-left border-2 border-gray-200 rounded-xl hover:border-red-400 hover:bg-red-50 transition-all" data-value="unique-experience">
                        <div class="flex items-center">
                            <span class="text-2xl mr-4">ğŸ­</span>
                            <div>
                                <div class="font-semibold text-gray-800">ãƒ¦ãƒ‹ãƒ¼ã‚¯ãªä½“é¨“</div>
                                <div class="text-sm text-gray-600">ä»–ã§ã¯å¾—ã‚‰ã‚Œãªã„ç‰¹åˆ¥ãªæ–‡åŒ–ä½“é¨“ã‚’ã—ãŸã„</div>
                            </div>
                        </div>
                    </button>
                    <button class="option-btn w-full p-4 text-left border-2 border-gray-200 rounded-xl hover:border-red-400 hover:bg-red-50 transition-all" data-value="future-opportunities">
                        <div class="flex items-center">
                            <span class="text-2xl mr-4">ğŸš€</span>
                            <div>
                                <div class="font-semibold text-gray-800">å°†æ¥ã¸ã®æŠ•è³‡</div>
                                <div class="text-sm text-gray-600">ã‚­ãƒ£ãƒªã‚¢ã‚„é€²å­¦ã«ç›´çµã™ã‚‹çµŒé¨“ã‚’ç©ã¿ãŸã„</div>
                            </div>
                        </div>
                    </button>
                </div>
            </div>
        </div>

        <!-- ãƒŠãƒ“ã‚²ãƒ¼ã‚·ãƒ§ãƒ³ãƒœã‚¿ãƒ³ -->
        <div class="flex justify-between mt-8">
            <button id="prevBtn" class="bg-gray-300 text-gray-700 px-6 py-3 rounded-xl font-semibold hover:bg-gray-400 transition-colors disabled:opacity-50 disabled:cursor-not-allowed" disabled>
                â† å‰ã®è³ªå•
            </button>
            <button id="nextBtn" class="bg-gradient-to-r from-purple-500 to-blue-500 text-white px-6 py-3 rounded-xl font-semibold hover:from-purple-600 hover:to-blue-600 transition-all disabled:opacity-50 disabled:cursor-not-allowed" disabled>
                æ¬¡ã®è³ªå• â†’
            </button>
        </div>

        <!-- çµæœè¡¨ç¤ºã‚¨ãƒªã‚¢ -->
        <div id="result" class="hidden mt-8 bg-white rounded-2xl shadow-xl p-8">
            <div class="text-center mb-8">
                <h2 class="text-3xl font-bold text-gray-800 mb-4">ğŸ‰ è¨ºæ–­çµæœ</h2>
                <p class="text-lg text-gray-600">ã‚ãªãŸã«ãŠã™ã™ã‚ã®ãƒ›ãƒ¼ãƒ ã‚¹ãƒ†ã‚¤å…ˆã‚’ã”ææ¡ˆã—ã¾ã™ï¼</p>
            </div>
            <div id="resultContent"></div>
        </div>
    </div>

    <script>
        let currentQuestion = 1;
        let answers = {};
        const totalQuestions = 5;

        // é¸æŠè‚¢ã‚¯ãƒªãƒƒã‚¯å‡¦ç†
        document.addEventListener('click', function(e) {
            if (e.target.closest('.option-btn')) {
                const btn = e.target.closest('.option-btn');
                const questionCard = btn.closest('.question-card');
                const questionNum = questionCard.dataset.question;
                
                // åŒã˜è³ªå•ã®ä»–ã®é¸æŠè‚¢ã®é¸æŠã‚’è§£é™¤
                questionCard.querySelectorAll('.option-btn').forEach(b => {
                    b.classList.remove('border-purple-500', 'bg-purple-100', 'border-blue-500', 'bg-blue-100', 
                                      'border-green-500', 'bg-green-100', 'border-orange-500', 'bg-orange-100',
                                      'border-red-500', 'bg-red-100');
                });
                
                // é¸æŠã•ã‚ŒãŸé¸æŠè‚¢ã‚’ãƒã‚¤ãƒ©ã‚¤ãƒˆ
                const colors = ['purple', 'blue', 'green', 'orange', 'red'];
                const color = colors[questionNum - 1];
                btn.classList.add(`border-${color}-500`, `bg-${color}-100`);
                
                // å›ç­”ã‚’ä¿å­˜
                answers[`q${questionNum}`] = btn.dataset.value;
                
                // æ¬¡ã¸ãƒœã‚¿ãƒ³ã‚’æœ‰åŠ¹åŒ–
                document.getElementById('nextBtn').disabled = false;
                
                // 0.5ç§’å¾Œã«è‡ªå‹•çš„ã«æ¬¡ã®è³ªå•ã¸
                setTimeout(() => {
                    if (currentQuestion < totalQuestions) {
                        document.getElementById('nextBtn').click();
                    } else {
                        // æœ€å¾Œã®è³ªå•ã®å ´åˆã¯çµæœè¡¨ç¤º
                        document.getElementById('nextBtn').click();
                    }
                }, 500);
            }
        });

        // æ¬¡ã¸ãƒœã‚¿ãƒ³å‡¦ç†
        document.getElementById('nextBtn').addEventListener('click', function() {
            if (currentQuestion < totalQuestions) {
                // ç¾åœ¨ã®è³ªå•ã‚’éè¡¨ç¤º
                document.querySelector(`[data-question="${currentQuestion}"]`).classList.remove('active');
                document.querySelector(`[data-question="${currentQuestion}"]`).classList.add('prev');
                
                currentQuestion++;
                
                // æ¬¡ã®è³ªå•ã‚’è¡¨ç¤º
                setTimeout(() => {
                    document.querySelector(`[data-question="${currentQuestion}"]`).classList.add('active');
                }, 250);
                
                // ãƒ—ãƒ­ã‚°ãƒ¬ã‚¹ãƒãƒ¼æ›´æ–°
                updateProgress();
                
                // ãƒœã‚¿ãƒ³çŠ¶æ…‹æ›´æ–°
                updateButtons();
                
                // æœ€å¾Œã®è³ªå•ã®å ´åˆã€çµæœã‚’è¡¨ç¤º
                if (currentQuestion === totalQuestions) {
                    this.textContent = 'çµæœã‚’è¦‹ã‚‹ ğŸ¯';
                }
            } else {
                // çµæœè¡¨ç¤ºï¼ˆå³åº§ã«ï¼‰
                this.disabled = true;
                this.innerHTML = 'çµæœã‚’è¨ˆç®—ä¸­... â³';
                
                setTimeout(() => {
                    showResults();
                }, 800);
            }
        });

        // å‰ã¸ãƒœã‚¿ãƒ³å‡¦ç†
        document.getElementById('prevBtn').addEventListener('click', function() {
            if (currentQuestion > 1) {
                // ç¾åœ¨ã®è³ªå•ã‚’éè¡¨ç¤º
                document.querySelector(`[data-question="${currentQuestion}"]`).classList.remove('active');
                
                currentQuestion--;
                
                // å‰ã®è³ªå•ã‚’è¡¨ç¤º
                document.querySelector(`[data-question="${currentQuestion}"]`).classList.remove('prev');
                document.querySelector(`[data-question="${currentQuestion}"]`).classList.add('active');
                
                // ãƒ—ãƒ­ã‚°ãƒ¬ã‚¹ãƒãƒ¼æ›´æ–°
                updateProgress();
                
                // ãƒœã‚¿ãƒ³çŠ¶æ…‹æ›´æ–°
                updateButtons();
                
                // æ¬¡ã¸ãƒœã‚¿ãƒ³ã®ãƒ†ã‚­ã‚¹ãƒˆã‚’æˆ»ã™
                document.getElementById('nextBtn').textContent = 'æ¬¡ã®è³ªå• â†’';
            }
        });

        function updateProgress() {
            const progress = (currentQuestion / totalQuestions) * 100;
            document.getElementById('progressBar').style.width = progress + '%';
            document.getElementById('currentQuestion').textContent = currentQuestion;
        }

        function updateButtons() {
            const prevBtn = document.getElementById('prevBtn');
            const nextBtn = document.getElementById('nextBtn');
            
            prevBtn.disabled = currentQuestion === 1;
            
            // ç¾åœ¨ã®è³ªå•ã«å›ç­”ãŒã‚ã‚‹ã‹ãƒã‚§ãƒƒã‚¯
            const hasAnswer = answers[`q${currentQuestion}`];
            nextBtn.disabled = !hasAnswer;
        }

        function showResults() {
            // çµæœã‚’è¨ˆç®—
            const recommendation = calculateRecommendation(answers);
            
            // çµæœè¡¨ç¤º
            const resultDiv = document.getElementById('result');
            const contentDiv = document.getElementById('resultContent');
            
            let html = `
                <div class="grid md:grid-cols-2 gap-8">
                    <div class="bg-gradient-to-br from-blue-50 to-indigo-50 border border-blue-200 rounded-xl p-6">
                        <h3 class="text-xl font-bold text-blue-800 mb-4">ğŸŒ ãŠã™ã™ã‚ã®å›½</h3>
                        <div class="text-center mb-4">
                            <div class="text-4xl mb-2">${recommendation.country.flag}</div>
                            <div class="text-2xl font-bold text-gray-800">${recommendation.country.name}</div>
                        </div>
                        <div class="space-y-2 text-sm">
                            <div><span class="font-medium">ğŸ—£ï¸ è¨€èª:</span> ${recommendation.country.language}</div>
                            <div><span class="font-medium">ğŸ™ï¸ ç’°å¢ƒ:</span> ${recommendation.country.environment}</div>
                            <div><span class="font-medium">ğŸ’° äºˆç®—ç›®å®‰:</span> ${recommendation.country.budget}</div>
                        </div>
                        <p class="text-gray-700 mt-4 text-sm">${recommendation.country.description}</p>
                    </div>
                    
                    <div class="bg-gradient-to-br from-green-50 to-emerald-50 border border-green-200 rounded-xl p-6">
                        <h3 class="text-xl font-bold text-green-800 mb-4">ğŸ  ãŠã™ã™ã‚ã®å®¶åº­ã‚¿ã‚¤ãƒ—</h3>
                        <div class="text-center mb-4">
                            <div class="text-4xl mb-2">${recommendation.family.icon}</div>
                            <div class="text-xl font-bold text-gray-800">${recommendation.family.type}</div>
                            <div class="text-lg font-semibold text-green-700 mt-1">${recommendation.family.name}</div>
                        </div>
                        <div class="space-y-2 text-sm">
                            <div><span class="font-medium">ğŸ‘¥ æ§‹æˆ:</span> ${recommendation.family.composition}</div>
                            <div><span class="font-medium">ğŸ¯ ç‰¹å¾´:</span> ${recommendation.family.features}</div>
                            <div><span class="font-medium">ğŸ“š ã‚µãƒãƒ¼ãƒˆ:</span> ${recommendation.family.support}</div>
                        </div>
                        <p class="text-gray-700 mt-4 text-sm">${recommendation.family.description}</p>
                    </div>
                </div>
                
                <div class="mt-8 bg-yellow-50 border border-yellow-200 rounded-xl p-6">
                    <h3 class="text-lg font-bold text-yellow-800 mb-4">ğŸ’¡ ã‚ãªãŸã¸ã®ã‚¢ãƒ‰ãƒã‚¤ã‚¹</h3>
                    <div class="space-y-3 text-sm text-gray-700">
                        ${recommendation.advice.map(tip => `<div class="flex items-start"><span class="text-yellow-600 mr-2">â€¢</span><span>${tip}</span></div>`).join('')}
                    </div>
                </div>
                
                <div class="mt-8 text-center">
                    <button onclick="restartQuiz()" class="bg-gradient-to-r from-purple-500 to-blue-500 text-white px-8 py-3 rounded-xl font-semibold hover:from-purple-600 hover:to-blue-600 transition-all mr-4">
                        ğŸ”„ ã‚‚ã†ä¸€åº¦è¨ºæ–­ã™ã‚‹
                    </button>
                    <button onclick="getDetailedInfo()" class="bg-white border-2 border-gray-300 text-gray-700 px-8 py-3 rounded-xl font-semibold hover:border-gray-400 transition-all">
                        ğŸ“‹ è©³ç´°æƒ…å ±ã‚’è¦‹ã‚‹
                    </button>
                </div>
            `;
            
            contentDiv.innerHTML = html;
            resultDiv.classList.remove('hidden');
            resultDiv.scrollIntoView({ behavior: 'smooth' });
        }

        function calculateRecommendation(answers) {
            // å›ç­”ã«åŸºã¥ã„ã¦å›½ã¨å®¶åº­ã‚¿ã‚¤ãƒ—ã‚’æ±ºå®š
            const countries = {
                'usa': {
                    name: 'ã‚¢ãƒ¡ãƒªã‚«',
                    flag: 'ğŸ‡ºğŸ‡¸',
                    language: 'è‹±èª',
                    environment: 'å¤šæ§˜æ€§è±Šã‹ãªå¤§éƒ½å¸‚ã‹ã‚‰å°ã•ãªç”ºã¾ã§',
                    budget: 'ä¸­ã€œé«˜',
                    description: 'ä¸–ç•Œæœ€å¤§ã®è‹±èªåœã§ã€å¤šæ§˜ãªæ–‡åŒ–ã¨æœ€æ–°ã®ãƒˆãƒ¬ãƒ³ãƒ‰ã‚’ä½“é¨“ã§ãã¾ã™ã€‚ãƒ“ã‚¸ãƒã‚¹è‹±èªã‚„é€²å­¦æº–å‚™ã«æœ€é©ã§ã™ã€‚'
                },
                'uk': {
                    name: 'ã‚¤ã‚®ãƒªã‚¹',
                    flag: 'ğŸ‡¬ğŸ‡§',
                    language: 'è‹±èªï¼ˆãƒ–ãƒªãƒ†ã‚£ãƒƒã‚·ãƒ¥ï¼‰',
                    environment: 'æ­´å²ã‚ã‚‹éƒ½å¸‚ã¨ç¾ã—ã„ç”°åœ’åœ°å¸¯',
                    budget: 'é«˜',
                    description: 'ä¼çµ±ã¨æ ¼å¼ã‚’é‡ã‚“ã˜ã‚‹æ–‡åŒ–ã§ã€æ­£çµ±ãªè‹±èªã‚’å­¦ã¹ã¾ã™ã€‚ãƒ¨ãƒ¼ãƒ­ãƒƒãƒ‘å„å›½ã¸ã®ã‚¢ã‚¯ã‚»ã‚¹ã‚‚è‰¯å¥½ã§ã™ã€‚'
                },
                'canada': {
                    name: 'ã‚«ãƒŠãƒ€',
                    flag: 'ğŸ‡¨ğŸ‡¦',
                    language: 'è‹±èªãƒ»ãƒ•ãƒ©ãƒ³ã‚¹èª',
                    environment: 'è‡ªç„¶è±Šã‹ã§æ²»å®‰ã®è‰¯ã„ç’°å¢ƒ',
                    budget: 'ä¸­',
                    description: 'å®‰å…¨ã§è¦ªã—ã¿ã‚„ã™ã„å›½æ°‘æ€§ãŒç‰¹å¾´ã€‚è‡ªç„¶ã‚’æ„›ã™ã‚‹äººã‚„åˆã‚ã¦ã®æµ·å¤–ä½“é¨“ã«ãŠã™ã™ã‚ã§ã™ã€‚'
                },
                'australia': {
                    name: 'ã‚ªãƒ¼ã‚¹ãƒˆãƒ©ãƒªã‚¢',
                    flag: 'ğŸ‡¦ğŸ‡º',
                    language: 'è‹±èªï¼ˆã‚ªãƒ¼ã‚¹ãƒˆãƒ©ãƒªã‚¢è‹±èªï¼‰',
                    environment: 'æ¸©æš–ãªæ°—å€™ã¨ãƒªãƒ©ãƒƒã‚¯ã‚¹ã—ãŸé›°å›²æ°—',
                    budget: 'ä¸­ã€œé«˜',
                    description: 'ãƒ•ãƒ¬ãƒ³ãƒ‰ãƒªãƒ¼ãªå›½æ°‘æ€§ã¨ç¾ã—ã„è‡ªç„¶ç’°å¢ƒã€‚ã‚¢ã‚¦ãƒˆãƒ‰ã‚¢æ´»å‹•ã‚’æ¥½ã—ã¿ãªãŒã‚‰è‹±èªã‚’å­¦ã¹ã¾ã™ã€‚'
                },
                'newzealand': {
                    name: 'ãƒ‹ãƒ¥ãƒ¼ã‚¸ãƒ¼ãƒ©ãƒ³ãƒ‰',
                    flag: 'ğŸ‡³ğŸ‡¿',
                    language: 'è‹±èª',
                    environment: 'å£®å¤§ãªè‡ªç„¶ã¨å°è¦æ¨¡ã‚³ãƒŸãƒ¥ãƒ‹ãƒ†ã‚£',
                    budget: 'ä¸­',
                    description: 'æ‰‹ã¤ã‹ãšã®è‡ªç„¶ã¨æ¸©ã‹ã„ã‚³ãƒŸãƒ¥ãƒ‹ãƒ†ã‚£ãŒé­…åŠ›ã€‚ã‚¢ãƒ‰ãƒ™ãƒ³ãƒãƒ£ãƒ¼å¥½ãã‚„è‡ªç„¶æ„›å¥½å®¶ã«æœ€é©ã§ã™ã€‚'
                }
            };

            const families = {
                'active-family': {
                    type: 'ã‚¢ã‚¯ãƒ†ã‚£ãƒ–ãƒ•ã‚¡ãƒŸãƒªãƒ¼',
                    name: 'ã‚¸ãƒ§ãƒ³ã‚½ãƒ³å®¶',
                    icon: 'ğŸ‰',
                    composition: 'ä¸¡è¦ª+å­ä¾›2-3äºº',
                    features: 'å®¶æ—æ´»å‹•ãŒè±Šå¯Œã€å¤–å‘çš„',
                    support: 'ç©æ¥µçš„ãªäº¤æµã¨ã‚µãƒãƒ¼ãƒˆ',
                    description: 'å®¶æ—å…¨å“¡ã§æ§˜ã€…ãªæ´»å‹•ã‚’æ¥½ã—ã‚€æ´»ç™ºãªå®¶åº­ã€‚é€±æœ«ã®å¤–å‡ºã‚„å®¶æ—ã‚¤ãƒ™ãƒ³ãƒˆã«ç©æ¥µçš„ã«å‚åŠ ã§ãã¾ã™ã€‚ãƒã‚¤ã‚¯ã•ã‚“ï¼ˆ45æ­³ãƒ»ä¼šç¤¾å“¡ï¼‰ã€ã‚µãƒ©ã•ã‚“ï¼ˆ42æ­³ãƒ»çœ‹è­·å¸«ï¼‰ã€ã‚¨ãƒŸãƒªãƒ¼ã¡ã‚ƒã‚“ï¼ˆ16æ­³ï¼‰ã€ã‚¸ã‚§ã‚¤ã‚¯ãã‚“ï¼ˆ13æ­³ï¼‰ã®4äººå®¶æ—ã§ã™ã€‚'
                },
                'academic-family': {
                    type: 'æ•™è‚²é‡è¦–ãƒ•ã‚¡ãƒŸãƒªãƒ¼',
                    name: 'ã‚¹ãƒŸã‚¹å®¶',
                    icon: 'ğŸ“š',
                    composition: 'ä¸¡è¦ª+å­¦ç”Ÿã®å­ä¾›',
                    features: 'å­¦ç¿’ç’°å¢ƒãŒæ•´ã£ã¦ã„ã‚‹',
                    support: 'å‹‰å¼·ã®ã‚µãƒãƒ¼ãƒˆãŒå……å®Ÿ',
                    description: 'æ•™è‚²ã‚’é‡è¦–ã™ã‚‹å®¶åº­ã§ã€é™ã‹ãªå­¦ç¿’ç’°å¢ƒã¨å­¦ç¿’ã‚µãƒãƒ¼ãƒˆãŒæœŸå¾…ã§ãã¾ã™ã€‚ãƒ‡ã‚¤ãƒ“ãƒƒãƒ‰ã•ã‚“ï¼ˆ48æ­³ãƒ»å¤§å­¦æ•™æˆï¼‰ã€ãƒªãƒ³ãƒ€ã•ã‚“ï¼ˆ46æ­³ãƒ»å›³æ›¸é¤¨å¸æ›¸ï¼‰ã€ã‚¢ãƒ¬ãƒƒã‚¯ã‚¹ãã‚“ï¼ˆ17æ­³ãƒ»é«˜æ ¡ç”Ÿï¼‰ã®3äººå®¶æ—ã§ã™ã€‚'
                },
                'professional-couple': {
                    type: 'ãƒ—ãƒ­ãƒ•ã‚§ãƒƒã‚·ãƒ§ãƒŠãƒ«å¤«å¦»',
                    name: 'ã‚¦ã‚£ãƒ«ã‚½ãƒ³å¤«å¦»',
                    icon: 'ğŸ’¼',
                    composition: 'åƒãå¤«å©¦ï¼ˆå­ä¾›ãªã—ã¾ãŸã¯ç‹¬ç«‹æ¸ˆã¿ï¼‰',
                    features: 'ç‹¬ç«‹æ€§ã‚’å°Šé‡ã€éƒ½å¸‚éƒ¨åœ¨ä½',
                    support: 'ã‚­ãƒ£ãƒªã‚¢ã‚¢ãƒ‰ãƒã‚¤ã‚¹ã¨æ–‡åŒ–äº¤æµ',
                    description: 'ã‚­ãƒ£ãƒªã‚¢ã‚’ç©ã‚“ã å¤«å©¦ã§ã€ç‹¬ç«‹æ€§ã‚’å°Šé‡ã—ãªãŒã‚‰è³ªã®é«˜ã„æ–‡åŒ–äº¤æµãŒã§ãã¾ã™ã€‚ãƒ­ãƒãƒ¼ãƒˆã•ã‚“ï¼ˆ52æ­³ãƒ»å¼è­·å£«ï¼‰ã€ã‚¸ã‚§ãƒ‹ãƒ•ã‚¡ãƒ¼ã•ã‚“ï¼ˆ49æ­³ãƒ»ãƒãƒ¼ã‚±ãƒ†ã‚£ãƒ³ã‚°ãƒ‡ã‚£ãƒ¬ã‚¯ã‚¿ãƒ¼ï¼‰ã®ã”å¤«å¦»ã§ã™ã€‚'
                },
                'traditional-family': {
                    type: 'ä¼çµ±çš„ãƒ•ã‚¡ãƒŸãƒªãƒ¼',
                    name: 'ãƒ–ãƒ©ã‚¦ãƒ³å®¶',
                    icon: 'ğŸ¡',
                    composition: 'ä¸‰ä¸–ä»£åŒå±…ã¾ãŸã¯åœ°åŸŸå¯†ç€å‹',
                    features: 'åœ°åŸŸæ–‡åŒ–ã«æ·±ãæ ¹ã–ã—ã¦ã„ã‚‹',
                    support: 'æ–‡åŒ–ä½“é¨“ã¨è¨€èªã‚µãƒãƒ¼ãƒˆ',
                    description: 'ãã®å›½ã®ä¼çµ±çš„ãªç”Ÿæ´»æ§˜å¼ã‚’ä½“é¨“ã§ãã‚‹å®¶åº­ã€‚åœ°åŸŸã‚³ãƒŸãƒ¥ãƒ‹ãƒ†ã‚£ã¨ã®ç¹‹ãŒã‚Šã‚‚æ·±ã„ã§ã™ã€‚ãƒˆãƒ ã•ã‚“ï¼ˆ55æ­³ãƒ»åœ°å…ƒä¼æ¥­çµŒå–¶ï¼‰ã€ãƒ¡ã‚¢ãƒªãƒ¼ã•ã‚“ï¼ˆ53æ­³ãƒ»ä¸»å©¦ï¼‰ã€ãŠã°ã‚ã¡ã‚ƒã‚“ã®ãƒ™ãƒ†ã‚£ã•ã‚“ï¼ˆ78æ­³ï¼‰ã®3äººå®¶æ—ã§ã™ã€‚'
                }
            };

            // ç°¡å˜ãªãƒãƒƒãƒãƒ³ã‚°ãƒ­ã‚¸ãƒƒã‚¯
            let recommendedCountry = 'canada'; // ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆ
            let recommendedFamily = 'academic-family'; // ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆ

            // ç›®çš„ã«åŸºã¥ãå›½ã®é¸æŠ
            if (answers.q1 === 'language-intensive') {
                recommendedCountry = 'uk';
            } else if (answers.q1 === 'cultural-exchange') {
                recommendedCountry = 'australia';
            } else if (answers.q1 === 'academic-preparation') {
                recommendedCountry = 'usa';
            } else if (answers.q1 === 'career-development') {
                recommendedCountry = 'canada';
            }

            // ç’°å¢ƒã«åŸºã¥ãèª¿æ•´
            if (answers.q2 === 'big-city') {
                if (recommendedCountry === 'newzealand') recommendedCountry = 'usa';
            } else if (answers.q2 === 'small-town') {
                if (recommendedCountry === 'usa') recommendedCountry = 'newzealand';
            }

            // äº¤æµã‚¹ã‚¿ã‚¤ãƒ«ã«åŸºã¥ãå®¶åº­ã‚¿ã‚¤ãƒ—ã®é¸æŠ
            if (answers.q3 === 'very-active') {
                recommendedFamily = 'active-family';
            } else if (answers.q3 === 'learning-focused') {
                recommendedFamily = 'academic-family';
            } else if (answers.q3 === 'independent') {
                recommendedFamily = 'professional-couple';
            } else if (answers.q3 === 'balanced') {
                recommendedFamily = 'traditional-family';
            }

            // ã‚¢ãƒ‰ãƒã‚¤ã‚¹ç”Ÿæˆ
            const advice = [
                'å‡ºç™ºå‰ã«åŸºæœ¬çš„ãªæŒ¨æ‹¶ã‚„æ—¥å¸¸ä¼šè©±ã‚’ç·´ç¿’ã—ã¦ãŠãã¾ã—ã‚‡ã†',
                'ãƒ›ã‚¹ãƒˆãƒ•ã‚¡ãƒŸãƒªãƒ¼ã¨ã®åˆæ—¥ã«è‡ªå·±ç´¹ä»‹ã¨æ—¥æœ¬ã®æ–‡åŒ–ã«ã¤ã„ã¦è©±ã›ã‚‹ã‚ˆã†æº–å‚™ã—ã¾ã—ã‚‡ã†',
                'ç¾åœ°ã®æ–‡åŒ–ã‚„ç¿’æ…£ã«ã¤ã„ã¦äº‹å‰ã«èª¿ã¹ã¦ãŠãã¨ã€ã‚ˆã‚Šæ·±ã„äº¤æµãŒã§ãã¾ã™',
                'å›°ã£ãŸã“ã¨ãŒã‚ã‚Œã°é æ…®ã›ãšã«ãƒ›ã‚¹ãƒˆãƒ•ã‚¡ãƒŸãƒªãƒ¼ã«ç›¸è«‡ã—ã¾ã—ã‚‡ã†'
            ];

            return {
                country: countries[recommendedCountry],
                family: families[recommendedFamily],
                advice: advice
            };
        }

        function restartQuiz() {
            currentQuestion = 1;
            answers = {};
            
            // å…¨ã¦ã®è³ªå•ã‚«ãƒ¼ãƒ‰ã‚’ãƒªã‚»ãƒƒãƒˆ
            document.querySelectorAll('.question-card').forEach((card, index) => {
                card.classList.remove('active', 'prev');
                if (index === 0) {
                    card.classList.add('active');
                }
                
                // é¸æŠçŠ¶æ…‹ã‚’ãƒªã‚»ãƒƒãƒˆ
                card.querySelectorAll('.option-btn').forEach(btn => {
                    btn.classList.remove('border-purple-500', 'bg-purple-100', 'border-blue-500', 'bg-blue-100', 
                                        'border-green-500', 'bg-green-100', 'border-orange-500', 'bg-orange-100',
                                        'border-red-500', 'bg-red-100');
                });
            });
            
            // çµæœã‚’éè¡¨ç¤º
            document.getElementById('result').classList.add('hidden');
            
            // ãƒ—ãƒ­ã‚°ãƒ¬ã‚¹ãƒãƒ¼ã¨ãƒœã‚¿ãƒ³ã‚’ãƒªã‚»ãƒƒãƒˆ
            updateProgress();
            updateButtons();
            document.getElementById('nextBtn').textContent = 'æ¬¡ã®è³ªå• â†’';
            
            // ãƒˆãƒƒãƒ—ã«ã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«
            window.scrollTo({ top: 0, behavior: 'smooth' });
        }

        function getDetailedInfo() {
            alert('è©³ç´°ãªè³‡æ–™ã‚’ãŠé€ã‚Šã—ã¾ã™ï¼å®Ÿéš›ã®ã‚·ã‚¹ãƒ†ãƒ ã§ã¯ã€é€£çµ¡å…ˆå…¥åŠ›ãƒ•ã‚©ãƒ¼ãƒ ã‚„è³‡æ–™è«‹æ±‚ãƒšãƒ¼ã‚¸ã«é·ç§»ã—ã¾ã™ã€‚');
        }
    </script>
<script>(function(){function c(){var b=a.contentDocument||a.contentWindow.document;if(b){var d=b.createElement('script');d.innerHTML="window.__CF$cv$params={r:'9715a4e6d7ff4e26',t:'MTc1NTU2NDQ5NC4wMDAwMDA='};var a=document.createElement('script');a.nonce='';a.src='/cdn-cgi/challenge-platform/scripts/jsd/main.js';document.getElementsByTagName('head')[0].appendChild(a);";b.getElementsByTagName('head')[0].appendChild(d)}}if(document.body){var a=document.createElement('iframe');a.height=1;a.width=1;a.style.position='absolute';a.style.top=0;a.style.left=0;a.style.border='none';a.style.visibility='hidden';document.body.appendChild(a);if('loading'!==document.readyState)c();else if(window.addEventListener)document.addEventListener('DOMContentLoaded',c);else{var e=document.onreadystatechange||function(){};document.onreadystatechange=function(b){e(b);'loading'!==document.readyState&&(document.onreadystatechange=e,c())}}}})();</script></body>
</html>
